window.addEventListener("load",(function(){const{body:e}=document;e.style.overflow="hidden";const t=document.querySelector(".loader");setTimeout((()=>{t.classList.add("visually-hidden"),e.style.overflow="visible"}),5e3)}));const e=document.querySelector(".header__bar-thumb");window.addEventListener("scroll",(function(t){let o=document.body.scrollTop||document.documentElement.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=o/n*100;e.style.width=s+"%"}));new Swiper(".mySwiper",{slidesPerView:2,slidesPerGroup:2,spaceBetween:180,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function t(e){localStorage.setItem("usersPosts",JSON.stringify(e))}function o(){const e=localStorage.getItem("usersPosts");return JSON.parse(e)}function n({title:e,body:t,id:o,userId:n}){return` <li class="posts__list-item" id='${o}' userId="${n}" >\n      <h3 class="posts__list-title">${e}</h3>\n      <p class="posts__list-text">\n        ${t[0].toUpperCase()+t.slice(1)}\n      </p>\n    </li>`}function s(e){const t=[];let o=0;for(const n of e){if(o>=5)break;t.push(n),o+=1}return t.map(n).join("")}const r=document.querySelector(".posts__list"),i=document.querySelector(".posts__buttons");let l="all";function c(e){r.innerHTML=e}function a(e){return!(e.split(" ").length>1)}function d(e){return!!/^[a-zA-Z]+$/.test(e)}function u(e,t){const o=document.querySelector(`input[name=${e}]`),n=document.querySelector(`input[name=${e}] + span`),s=()=>{o.classList.add("shake");o.addEventListener("animationend",(()=>o.classList.remove("shake")),{once:!0})};return a(t)?d(t)?(console.log(!d(t)),n.innerHTML="",o.classList.remove("error"),!0):(n.innerHTML=`${e[0].toUpperCase()+e.slice(1)} must consist only of Latin letters`,o.classList.add("error"),s(),!1):(n.innerHTML=`${e[0].toUpperCase()+e.slice(1)} must be composed of only one word`,o.classList.add("error"),s(),!1)}function m(e){const t=JSON.stringify(e);localStorage.setItem("form",t)}i.addEventListener("click",(e=>{const t=e.target;if(t){if("BUTTON"!==t.tagName)return;const e=t.getAttribute("userId"),n=o();if("all"===e||l===e){return c(s(n.map((e=>e[0])))),void(l="all")}for(const t of n)if(t[0].userId===parseInt(e)){return c(s(n.filter((t=>t[0].userId===parseInt(e)))[0])),void(l=e)}}})),async function(){const e=[1,2,3].map((async e=>(await fetch(`https://jsonplaceholder.typicode.com/posts?userId=${e}`)).json()));return await Promise.all(e)}().then((e=>{c(e.map((e=>n(e[0]))).join("")),t(e)}));const p=document.querySelector(".action__backdrop"),f=document.querySelector(".action__modal-text > span"),y=new Date,v=y.getDate(),h=y.getMonth()+1,w=y.getFullYear();const L=document.querySelector(".forget__form");L.addEventListener("submit",(function(e){e.preventDefault();const t=["name","surname"],o={validly:!0};new FormData(L).forEach(((e,t)=>{o[t]=e.trim()}));for(const e in o)t.includes(e)&&(u(e,o[e])||(o.validly=!1));o.validly&&(m(o),"Sigma"===o.name&&(p.classList.remove("visually-hidden"),f.innerHTML=`${v}.${h}.${w}`,setTimeout((()=>{p.classList.add("visually-hidden")}),5e3)))}));const g=document.querySelector(".footer__copyright-year"),S=(new Date).getFullYear();g.innerHTML=S;document.querySelector(".header__nav-list").addEventListener("click",(e=>{e.preventDefault();const t=e.target,o=t.getAttribute("href"),n=document.querySelector(o);var s;"A"===t.tagName&&(s=n,console.log(s.offsetTop),window.scrollTo({left:0,top:s.offsetTop,behavior:"smooth"}))}));const T=document.querySelector(".backdrop"),_=document.querySelector(".modal-btn"),{body:b}=document;let E=null;function q(){E=setTimeout((()=>{T.classList.remove("visually-hidden"),b.style.overflow="hidden",_.addEventListener("click",$),E=setTimeout((()=>{window.close()}),5e3)}),6e4)}function $(){clearTimeout(E),T.classList.add("visually-hidden"),b.style.overflow="visible",q()}q(),window.addEventListener("scroll",(()=>{clearTimeout(E),q()})),document.addEventListener("mousemove",(()=>{clearTimeout(E),q()})),document.addEventListener("keydown",(()=>{clearTimeout(E),q()})),document.addEventListener("click",(()=>{clearTimeout(E),q()}));
//# sourceMappingURL=index.fc800a28.js.map
